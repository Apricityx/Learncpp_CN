本节将重点介绍 `std::cout`。我们在 _Hello world!_ 程序中已经使用它向控制台输出过文本 _Hello world!_ 。我们还将介绍如何从用户获取输入，使程序具备与用户交互的能力。

## 输入输出库

输入输出库 (io 库) 是 C++ 标准库的一部分，用于处理基本的输入和输出。我们会使用该库提供的功能从键盘获取输入并向控制台输出数据。_iostream_ 中的io 指代的是输入输出（_input/output_）。

为了使用 _iostream_ 库提供的功能，我们需要在任何需要使用该库的源文件的顶部包含 _iostream_ 的头文件，像下面这样：

```cpp
#include <iostream>

// rest of code that uses iostream functionality here
```


## std::cout

_iostream_ 库中包含了一些预定义的变量供我们使用，其中最有用的当属 `std::cout`，通过它可以向控制台打印文本，`cout` 代表的含义就是字符输出（character output）。

提醒一下，下面既是之前的 _Hello world_ 程序：

```cpp
#include <iostream> // for std::cout

int main()
{
    std::cout << "Hello world!"; // print Hello world! to console

    return 0;
}
```

在这个程序中，_iostream_ 已经被包含，
In this program, we have included _iostream_ so that we have access to _std::cout_. Inside our _main_ function, we use _std::cout_, along with the insertion operator (`<<`), to send the text _Hello world!_ to the console to be printed.

_`std::cout_` can not only print text, it can also print numbers:

```cpp
#include <iostream> // for std::cout

int main()
{
    std::cout << 4; // print 4 to console

    return 0;
}
```

输出结果：

```
4
```

It can also be used to print the value of variables:

```cpp
#include <iostream> // for std::cout

int main()
{
    int x{ 5 }; // define integer variable x, initialized with value 5
    std::cout << x; // print value of x (5) to console
    return 0;
}
```

输出结果：

```
5
```

To print more than one thing on the same line, the insertion operator (`<<`) can be used multiple times in a single statement to concatenate (link together) multiple pieces of output. For example:

```cpp
#include <iostream> // for std::cout

int main()
{
    std::cout << "Hello" << " world!";
    return 0;
}
```

输出结果：

```
Hello world!
```

Here’s another example where we print both text and the value of a variable in the same statement:

```cpp
#include <iostream> // for std::cout

int main()
{
    int x{ 5 };
    std::cout << "x is equal to: " << x;
    return 0;
}
```

输出结果：

```
x is equal to: 5
```

>[!INFO] Related content

We discuss what the _std::_ prefix actually does in lesson [[2.9 -- Naming collisions and an introduction to namespaces]]

## std::endl

What would you expect this program to print?

```cpp
#include <iostream> // for std::cout

int main()
{
    std::cout << "Hi!";
    std::cout << "My name is Alex.";
    return 0;
}
```


You might be surprised at the result:

Hi!My name is Alex.

Separate output statements don’t result in separate lines of output on the console.

If we want to print separate lines of output to the console, we need to tell the console when to move the cursor to the next line.

One way to do that is to use _std::endl_. When output with _std::cout_, _std::endl_ prints a newline character to the console (causing the cursor to go to the start of the next line). In this context, _endl_ stands for “end line”.

例程：

```cpp
#include <iostream> // for std::cout and std::endl

int main()
{
    std::cout << "Hi!" << std::endl; // std::endl will cause the cursor to move to the next line of the console
    std::cout << "My name is Alex." << std::endl;

    return 0;
}
```

输出结果：

```
Hi!
My name is Alex.
```

>[!TIP]  小贴士

In the above program, the second _std::endl_ isn’t technically necessary, since the program ends immediately afterward. However, it serves two useful purposes: First, it helps indicate that the line of output is a “complete thought” (as opposed to partial output that is completed somewhere later in the code). Second, if we later want to add additional lines of output, we don’t have to modify the existing code. We can just add them.

## std::endl vs ‘\n’

Using std::endl can be a bit inefficient, as it actually does two jobs: it moves the cursor to the next line, and it makes sure that the output shows up on the screen immediately (this is called flushing the output). When writing text to the console using std::cout, std::cout often flushes output anyway (and if it doesn’t, it usually doesn’t matter), so having std::endl perform a flush is rarely important.

Because of this, use of the ‘\n’ character is typically preferred instead. The ‘\n’ character moves the cursor to the next line, but doesn’t request a flush, so it will perform better in cases where a flush would not otherwise happen. The ‘\n’ character also tends to be easier to read since it’s both shorter and can be embedded into existing text.

Here’s an example that uses ‘\n’ in two different ways:

```cpp
#include <iostream> // for std::cout

int main()
{
    int x{ 5 };
    std::cout << "x is equal to: " << x << '\n'; // Using '\n' standalone
    std::cout << "And that's all, folks!\n"; // Using '\n' embedded into a double-quoted piece of text (note: no single quotes when used this way)
    return 0;
}
```


输出结果：
```
x is equal to: 5
And that's all, folks!
```


Note that when ‘\n’ is used by itself to move the cursor to the next line, the single quotes are needed. When embedded into text that is already double-quoted, the single quotes aren’t needed.

We’ll cover what ‘\n’ is in more detail when we get to the lesson on chars ([4.11 -- Chars](https://www.learncpp.com/cpp-tutorial/chars/)).

>[!TIP] 最佳实践

Prefer ‘\n’ over std::endl when outputting text to the console.

>[!Warning]  警告

‘\n’ uses a backslash (as do all special characters in C++), not a forward slash. Using a forward slash (e.g. ‘/n’) instead may result in unexpected behavior.

## std::cin

`std::cin` is another predefined variable that is defined in the `iostream` library. Whereas `std::cout` prints data to the console using the insertion operator (`<<`), `std::cin` (which stands for “character input”) reads input from keyboard using the extraction operator (`>>`). The input must be stored in a variable to be used.

```cpp
#include <iostream>  // for std::cout and std::cin

int main()
{
    std::cout << "Enter a number: "; // ask user for a number

    int x{ }; // define variable x to hold user input (and zero-initialize it)
    std::cin >> x; // get number from keyboard and store it in variable x

    std::cout << "You entered " << x << '\n';
    return 0;
}
```


Try compiling this program and running it for yourself. When you run the program, line 5 will print “Enter a number: “. When the code gets to line 8, your program will wait for you to enter input. Once you enter a number (and press enter), the number you enter will be assigned to variable _x_. Finally, on line 10, the program will print “You entered ” followed by the number you just entered.

For example (I entered 4):
```
Enter a number: 4
You entered 4
```


This is an easy way to get keyboard input from the user, and we will use it in many of our examples going forward. Note that you don’t need to use ‘\n’ when accepting input, as the user will need to press the _enter_ key to have their input accepted, and this will move the cursor to the next line.

If your screen closes immediately after entering a number, please see lesson [0.8 -- A few common C++ problems](https://www.learncpp.com/cpp-tutorial/a-few-common-cpp-problems/) for a solution.

Just like it is possible to output more than one bit of text in a single line, it is also possible to input more than one value on a single line:

```cpp
#include <iostream>  // for std::cout and std::cin

int main()
{
    std::cout << "Enter two numbers separated by a space: ";

    int x{ }; // define variable x to hold user input (and zero-initialize it)
    int y{ }; // define variable y to hold user input (and zero-initialize it)
    std::cin >> x >> y; // get two numbers and store in variable x and y respectively

    std::cout << "You entered " << x << " and " << y << '\n';

    return 0;
}
```


This produces the output:
```
Enter two numbers separated by a space: 5 6
You entered 5 and 6
```


>[!TIP] 最佳实践

There’s some debate over whether it’s necessary to initialize a variable immediately before you give it a user provided value via another source (e.g. std::cin), since the user-provided value will just overwrite the initialization value. In line with our previous recommendation that variables should always be initialized, best practice is to initialize the variable first.

We’ll discuss how _std::cin_ handles invalid input in a future lesson [[7.16 -- std::cin and handling invalid input]]

>[!INFO] For advanced readers

The C++ I/O library does not provide a way to accept keyboard input without the user having to press _enter_. If this is something you desire, you’ll have to use a third party library. For console applications, we’d recommend the [pdcurses](https://pdcurses.org/) library. Many graphical user libraries have their own functions to do this kind of thing.

## 小结

New programmers often mix up std::cin, std::cout, the insertion operator (`<<`) and the extraction operator (`>>`). Here’s an easy way to remember:

-   `std::cin` and `std::cout` always go on the left-hand side of the statement.
-   `std::cout` is used to output a value (cout = character output)
-   `std::cin` is used to get an input value (cin = character input)
-   `<<` is used with std::cout, and shows the direction that data is moving (if `std::cout` represents the console, the output data is moving from the variable to the console). `std::cout << 4` moves the value of 4 to the console
-   `>>` is used with `std::cin`, and shows the direction that data is moving (if std::cin represents the keyboard, the input data is moving from the keyboard to the variable). `std::cin >> x` moves the value the user entered from the keyboard into x

We’ll talk more about operators in lesson [1.9 -- Introduction to literals and operators](https://www.learncpp.com/cpp-tutorial/introduction-to-literals-and-operators/).