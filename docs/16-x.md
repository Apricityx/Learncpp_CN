---
title: 16.x - 小结与测试
alias: 16.x - 小结与测试
origin: /chapter-16-comprehensive-quiz/
origin_title: "16.x — Chapter 16 comprehensive quiz"
time: 2022-8-12
type: translation
tags:
- summary
---

## 复习

使用简单对象构建复杂对象的过程，称为**对象组合**。对象组合有两种：[[Composition|组合]]和[[aggregation|聚合]]。

当一个类的类成员为该类的**一部分**（part-of）时，就产生了组合关系。在组合关系中，类负责管理成员是否存在。一个合格的组合关系应该满足如下条件：

-   部分(成员) 是对象（类）的一部分；
-   部分(成员) 同时只能属于一个对象（类）;
-   部分(成员) 的存在与否受到对象（类）的管理；
-   部分(成员) 并不知道对象（类）是否存在。

通常情况下，组合关系可以使用一般的成员变量来实现，或者也可以使用指针，但其表示的内存的申请和释放必须完全由该类来管理。如果你能够将一个类实现为组合关系，那你就应该尽量这么做。

当某个类**具有（has）** 某个成员是，聚合关系就出现了。在聚合关系中，类并不负责管理该成员的存在性。一个合格的聚合关系应该满足如下条件：

- 部分(成员) 是对象（类）的一部分；
- 部分(成员) 不仅仅属于一个对象（类）;
- 部分(成员) 的存在与否不会受到对象（类）的管理；
- 部分(成员) 并不知道对象（类）是否存在。

聚合关系通常可以通过指针和引用来实现。

[[Associations|关联]]是一种相对更加松散的关系。类使用了一个与它并无直接关系的对象。只有满足如下条件，才能将两个对象称为关联关系：

-   关联对象（成员）The associated object (member) is otherwise unrelated to the object (class)
-   The associated object (member) can belong to more than one object (class) at a time
-   The associated object (member) does _not_ have its existence managed by the object (class)
-   The associated object (member) may or may not know about the existence of the object (class)

Associations may be implemented via pointer or reference, or by a more indirect means (such as holding the index or key of the associated object).

In a **dependency**, one class uses another class to perform a task. The dependent class typically is not a member of the class using it, but rather is temporarily created, used, and then destroyed, or passed into a member function from an external source.

In a **container class** one class provides a container to hold multiple objects of another type. A **value container** is a composition that stores copies of the objects it is holding. A **reference container** is an aggregation that stores pointers or references to objects that live outside the container.

std::initializer_list can be used to implement constructors, assignment operators, and other functions that accept a list initialization parameter. `std::initailizer_list` lives in the <initializer_list> header.


|Property Type|Composition	|Aggregation	|Association	|Dependency|
|:----:|:----:|:----:|:----:|:----:|
|Relationship type	|Whole/part	|Whole/part|	Otherwise unrelated|	Otherwise unrelated
|Members can belong to multiple classes|	No	|Yes	|Yes	|Yes
|Members existence managed by class	|Yes	|No	|No	|No
|Directionality	|Unidirectional	|Unidirectional	|Unidirectional or bidirectional|	Unidirectional
|Relationship verb	|Part-of	|Has-a	|Uses-a|	Depends-on
